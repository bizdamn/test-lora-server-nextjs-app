(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{40225:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/commands",function(){return n(27743)}])},27743:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(34051),i=n.n(r),c=n(85893),s=n(67294),o=n(61776),a=n(86886),u=n(53457),f=n(50480),p=n(45843),h=n(87357),l=n(15861),d=n(47820),I=n(11163),v=n(73124),z=n(9669),m=n.n(z);function w(e,t,n,r,i,c,s){try{var o=e[c](s),a=o.value}catch(u){return void n(u)}o.done?t(a):Promise.resolve(a).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var c=e.apply(t,n);function s(e){w(c,r,i,s,o,"next",e)}function o(e){w(c,r,i,s,o,"throw",e)}s(void 0)}))}}function k(){var e=(0,s.useContext)(d.K).state.userInfo,t=(0,I.useRouter)(),n=(0,v.Ds)(),r=n.enqueueSnackbar,z=n.closeSnackbar,w=(0,s.useState)(null),k=w[0],N=w[1],x=(0,s.useState)(null),Y=x[0],j=x[1];function g(){return(g=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==k?O():J();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==Y?b():Z();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return S.apply(this,arguments)}function S(){return(S=y(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(),t={method:"POST",headers:{"Grpc-Metadata-Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5X2lkIjoiNTUyNzc0ZWEtMjJlNS00YzY1LWFhMjAtN2Y4NzU0Y2E5NjFkIiwiYXVkIjoiYXMiLCJpc3MiOiJhcyIsIm5iZiI6MTYzNzY1MTgwNSwic3ViIjoiYXBpX2tleSJ9._2OFZ7tfw6GYSbYk94M5RM17BwUGQB3IoGRZdqoGd_4"},body:JSON.stringify({deviceQueueItem:{confirmed:!0,data:"+gcMRE00PTRJ",devEUI:"ff0006f201000001",fCnt:0,fPort:7}})},fetch("https://chirpstack.igscsi4server.com/api/devices/ff0006f201000001/queue",t).then((function(e){return e.json()})).then((function(e){if(console.log(e),console.log("On I04 command To Chiprstack"),e.fCnt){new Date;function e(){return t.apply(this,arguments)}function t(){return(t=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().post("/api/setTempBuzzerStatus",{buzzerStatus:!0});case 3:N(!0),r("Temprature Buzzer On ",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}e()}else r(e.error,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return T.apply(this,arguments)}function T(){return(T=y(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(),t={method:"POST",headers:{"Grpc-Metadata-Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5X2lkIjoiNTUyNzc0ZWEtMjJlNS00YzY1LWFhMjAtN2Y4NzU0Y2E5NjFkIiwiYXVkIjoiYXMiLCJpc3MiOiJhcyIsIm5iZiI6MTYzNzY1MTgwNSwic3ViIjoiYXBpX2tleSJ9._2OFZ7tfw6GYSbYk94M5RM17BwUGQB3IoGRZdqoGd_4"},body:JSON.stringify({deviceQueueItem:{confirmed:!0,data:"+gcMRE00PTNI",devEUI:"ff0006f201000001",fCnt:0,fPort:7}})},fetch("https://chirpstack.igscsi4server.com/api/devices/ff0006f201000001/queue",t).then((function(e){return e.json()})).then((function(e){if(console.log(e),console.log("Off I04 command To Chiprstack"),e.fCnt){function e(){return t.apply(this,arguments)}function t(){return(t=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().post("/api/setTempBuzzerStatus",{buzzerStatus:!1});case 3:N(!1),r("Temprature Buzzer Off ",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}e()}else r(e.error,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return C.apply(this,arguments)}function C(){return(C=y(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(),t={method:"POST",headers:{"Grpc-Metadata-Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5X2lkIjoiNTUyNzc0ZWEtMjJlNS00YzY1LWFhMjAtN2Y4NzU0Y2E5NjFkIiwiYXVkIjoiYXMiLCJpc3MiOiJhcyIsIm5iZiI6MTYzNzY1MTgwNSwic3ViIjoiYXBpX2tleSJ9._2OFZ7tfw6GYSbYk94M5RM17BwUGQB3IoGRZdqoGd_4"},body:JSON.stringify({deviceQueueItem:{confirmed:!0,data:"+gcMRE01PTRK",devEUI:"ff0006f201000001",fCnt:0,fPort:7}})},fetch("https://chirpstack.igscsi4server.com/api/devices/ff0006f201000001/queue",t).then((function(e){return e.json()})).then((function(e){if(console.log(e),console.log("On I05 command To Chiprstack"),e.fCnt){function e(){return t.apply(this,arguments)}function t(){return(t=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().post("/api/setHumBuzzerStatus",{buzzerStatus:!0});case 3:j(!0),r("Humidity Buzzer On ",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}e()}else r(e.error,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return G.apply(this,arguments)}function G(){return(G=y(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(),t={method:"POST",headers:{"Grpc-Metadata-Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5X2lkIjoiNTUyNzc0ZWEtMjJlNS00YzY1LWFhMjAtN2Y4NzU0Y2E5NjFkIiwiYXVkIjoiYXMiLCJpc3MiOiJhcyIsIm5iZiI6MTYzNzY1MTgwNSwic3ViIjoiYXBpX2tleSJ9._2OFZ7tfw6GYSbYk94M5RM17BwUGQB3IoGRZdqoGd_4"},body:JSON.stringify({deviceQueueItem:{confirmed:!0,data:"+gcMRE01PTNJ",devEUI:"ff0006f201000001",fCnt:0,fPort:7}})},fetch("https://chirpstack.igscsi4server.com/api/devices/ff0006f201000001/queue",t).then((function(e){return e.json()})).then((function(e){if(console.log(e),console.log("Off I05 command To Chiprstack"),e.fCnt){function e(){return t.apply(this,arguments)}function t(){return(t=y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().post("/api/setHumBuzzerStatus",{buzzerStatus:!1});case 3:j(!1),r("Humidity Buzzer Off ",{variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}e()}else r(e.error,{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){function n(){return(n=y(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("/api/getBuzzerStatus");case 2:return t=e.sent.data,e.next=5,N(t.FF01_I04_status);case 5:return e.next=7,j(t.FF01_I05_status);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e||t.push("/login"),function(){n.apply(this,arguments)}(),console.log("useEffect Run")}),[e,t]),console.log("IO4 "+k),console.log("IO5 "+Y),(0,c.jsx)(o.Z,{children:(0,c.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,c.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,c.jsx)(l.Z,{sx:{mb:3},variant:"h5",children:"Temperature Buzzer"}),(0,c.jsx)(h.Z,{sx:{"& > :not(style)":{m:1}},children:(0,c.jsx)(u.Z,{children:(0,c.jsx)(f.Z,{onChange:function(){return function(){return g.apply(this,arguments)}()},control:(0,c.jsx)(p.Z,{size:"large",color:"warning",checked:!0===k}),label:!0===k?"On":"Off"})})})]}),(0,c.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,c.jsx)(l.Z,{sx:{mb:3},variant:"h5",children:"Humidity Buzzer"}),(0,c.jsx)(h.Z,{sx:{"& > :not(style)":{m:1}},children:(0,c.jsx)(u.Z,{children:(0,c.jsx)(f.Z,{onChange:function(){return function(){return M.apply(this,arguments)}()},control:(0,c.jsx)(p.Z,{size:"large",color:"warning",checked:!0===Y}),label:!0===Y?"On":"Off"})})})]})]})})}}},function(e){e.O(0,[26,3,898,669,5,93,776,774,888,179],(function(){return t=40225,e(e.s=t);var t}));var t=e.O();_N_E=t}]);