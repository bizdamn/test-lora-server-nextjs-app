(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{93520:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gateways",function(){return n(77911)}])},77911:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(85893),r=n(67294),c=n(15861),a=n(86886),s=n(41664),l=n(96486);function o(){var e=(0,r.useState)({totalCount:null,result:null}),t=e[0],n=e[1];(0,r.useEffect)((function(){fetch("https://chirpstack.igscsi4server.com/api/gateways?limit=111&organizationID=".concat(5),{method:"GET",headers:{Accept:"application/json","Grpc-Metadata-Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5X2lkIjoiNTUyNzc0ZWEtMjJlNS00YzY1LWFhMjAtN2Y4NzU0Y2E5NjFkIiwiYXVkIjoiYXMiLCJpc3MiOiJhcyIsIm5iZiI6MTYzNzY1MTgwNSwic3ViIjoiYXBpX2tleSJ9._2OFZ7tfw6GYSbYk94M5RM17BwUGQB3IoGRZdqoGd_4"}}).then((function(e){return e.json()})).then((function(e){return n({result:e.result,totalCount:e.totalCount})})).catch((function(e){alert("Please Check your internet connection. Either their is no internet connection or the signals are weak")}))}),[]);var c=l.toArray(t.result);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.ZP,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{overflowX:"scroll"},children:(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Gateway ID"}),(0,i.jsx)("th",{children:"Gateway Name"}),(0,i.jsx)("th",{children:"Last Seen At"})]})}),(0,i.jsx)("tbody",{children:c.map((function(e){if(null!==e.lastSeenAt)var t=new Date(e.lastSeenAt).toLocaleString();else null===e.lastSeenAt&&(t="Never Seen");return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(s.default,{href:"/gateway-info/".concat(e.id),style:{color:"black"},children:(0,i.jsx)("a",{children:e.id})})}),(0,i.jsx)("td",{children:(0,i.jsx)(s.default,{href:"/gateway-info/".concat(e.id),style:{color:"black"},children:(0,i.jsx)("a",{children:e.name})})}),(0,i.jsx)("td",{children:(0,i.jsx)(s.default,{href:"/gateway-info/".concat(e.id),style:{color:"black"},children:(0,i.jsx)("a",{children:t})})})]},e.id)}))})]})})})}var u=n(61776),h=n(47820),d=n(11163);function f(){var e=(0,r.useContext)(h.K).state.userInfo,t=(0,d.useRouter)();return(0,r.useEffect)((function(){e||t.push("/login")}),[e,t]),(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(c.Z,{sx:{mb:3},variant:"h4",children:"Gateways"}),(0,i.jsx)(a.ZP,{container:!0,spacing:4,children:(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsx)(o,{})})})]})}}},function(e){e.O(0,[662,26,3,898,776,774,888,179],(function(){return t=93520,e(e.s=t);var t}));var t=e.O();_N_E=t}]);