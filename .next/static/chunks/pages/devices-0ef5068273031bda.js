(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{16134:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/devices",function(){return n(54943)}])},54943:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(85893),c=n(67294),i=n(15861),l=n(41664),s=n(86886),o=n(96486);function a(){var e=(0,c.useState)({totalCount:null,result:null}),t=e[0],n=e[1];(0,c.useEffect)((function(){fetch("https://chirpstack.igscsi4server.com/api/devices?limit=100000&applicationID=".concat(4),{method:"GET",headers:{"Grpc-Metadata-Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcGlfa2V5X2lkIjoiNTUyNzc0ZWEtMjJlNS00YzY1LWFhMjAtN2Y4NzU0Y2E5NjFkIiwiYXVkIjoiYXMiLCJpc3MiOiJhcyIsIm5iZiI6MTYzNzY1MTgwNSwic3ViIjoiYXBpX2tleSJ9._2OFZ7tfw6GYSbYk94M5RM17BwUGQB3IoGRZdqoGd_4"}}).then((function(e){return e.json()})).then((function(e){return n({result:e.result,totalCount:e.totalCount})})).catch((function(e){alert("Please Check your internet connection. Either their is no internet connection or the signals are weak")}))}),[]);var i=o.toArray(t.result);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.ZP,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{overflowX:"scroll"},children:(0,r.jsxs)("table",{className:"table table-striped table-hover",children:[(0,r.jsx)("thead",{style:{backgroundColor:"#38B6FF",fontSize:"1.3rem",color:"#fff"},children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Device EUI Number"}),(0,r.jsx)("th",{children:"Device Name"}),(0,r.jsx)("th",{children:"Last Seen At"})]})}),(0,r.jsx)("tbody",{children:i.map((function(e){if(null!==e.lastSeenAt)var t=new Date(e.lastSeenAt).toLocaleString();else null===e.lastSeenAt&&(t="Never Seen");return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(l.default,{href:"/device-info/".concat(e.devEUI),style:{color:"black"},children:(0,r.jsx)("a",{children:e.devEUI})})}),(0,r.jsx)("td",{children:(0,r.jsx)(l.default,{href:"/device-info/".concat(e.devEUI),style:{color:"black"},children:(0,r.jsx)("a",{children:e.name})})}),(0,r.jsx)("td",{children:(0,r.jsx)(l.default,{href:"/device-info/".concat(e.devEUI),style:{color:"black"},children:(0,r.jsx)("a",{children:t})})})]},e.devEUI)}))})]})})})}var u=n(61776),h=n(47820),d=n(11163);function f(){var e=(0,c.useContext)(h.K).state.userInfo,t=(0,d.useRouter)();return(0,c.useEffect)((function(){e||t.push("/login")}),[e,t]),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(i.Z,{sx:{mb:3},variant:"h4",children:"Devices"}),(0,r.jsx)(a,{})]})}}},function(e){e.O(0,[662,26,3,898,776,774,888,179],(function(){return t=16134,e(e.s=t);var t}));var t=e.O();_N_E=t}]);